<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles del Producto</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <img src="Images/LOGO 3DZ.png" alt="Logo 3DZ" class="logo"> 
            <h1>Detalles del Producto</h1>
            <nav>
                <a href="index.html">Inicio</a>
                <a href="index.html/#catalog">Catálogo</a>  <!-- Enlace a la sección de catálogo en la misma página -->
                <a href="nosotros.html">Nosotros</a>
                <a href="contacto.html">Contacto</a>
            </nav>

        </div>
        <!-- Opcional: Agrega logo si quieres -->
    </header>
    
    <div class="container">
        <a href="index.html" class="back-link">&larr; Volver al Catálogo</a>
        
        <div class="product-detail">
            <img id="productImage" src="" alt="Producto">
            <div class="product-text">
                <h2 id="productTitle">Cargando...</h2>
                <p id="productDescription">Cargando...</p>
                <h2><strong>Precio: </strong> $ <span id="productPrice">Cargando...</span> COP</h2>
                <!-- Botón "Comprar" debajo del texto -->
                <a id="buyButton" href="#" class="buy-button">Comprar</a>
            </div>
        </div>
        
        <a id="whatsappLink" href="https://wa.me/573180187501?text=Hola,%20estoy%20interesado%20en%20este%20producto" class="whatsapp-link" target="_blank">
            Contactar por WhatsApp
        </a>
    </div>

    <script>
        // Obtener parámetros de la URL
        const urlParams = new URLSearchParams(window.location.search);
        const title = decodeURIComponent(urlParams.get('title') || 'Producto no encontrado');
        const large_description = decodeURIComponent(urlParams.get('large_description') || 'Descripción no disponible');
        const price = decodeURIComponent(urlParams.get('price') || 'Precio no disponible');
        const image = decodeURIComponent(urlParams.get('image') || '');

        // Poblar la página con valores por defecto si faltan
        document.getElementById('productTitle').textContent = title;
        document.getElementById('productDescription').innerHTML = large_description;
        document.getElementById('productPrice').textContent = price;
        if (image) {
            document.getElementById('productImage').src = image;
        } else {
            document.getElementById('productImage').src = 'images/placeholder.png';  // Imagen por defecto si no hay
        }

        // Actualizar el enlace de WhatsApp y el botón "Comprar" con el título del producto
        const whatsappLink = document.getElementById('whatsappLink');
        const buyButton = document.getElementById('buyButton');
        const whatsappUrl = `https://wa.me/573180187501?text=Hola,%20estoy%20interesado%20en%20comprar%20el%20producto:%20${encodeURIComponent(title)}`;
        whatsappLink.href = whatsappUrl;
        buyButton.href = whatsappUrl;  // El botón "Comprar" también enlaza al WhatsApp
    </script>
</body>
</html>